aliases:
  php: php8
  composer: composer
  sh: sh
containers:
  sh:
    image:
      context: .
      target: runtime
    cmd: sh
    volumes:
      /app: source_files
    workdir: /app
  php8:
    image:
      context: .
      target: runtime
    cmd: php
    volumes:
      /app: source_files
    workdir: /app
  composer:
    image:
      context: .
      target: composer
    cmd: composer
    volumes:
      /tmp: composer_cache
      /app: source_files
    workdir: /app
volumes:
  source_files:
    source: .
  composer_cache:
    name: composer_cache
